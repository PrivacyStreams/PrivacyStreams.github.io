---
layout: homepage
title: Available operators in PrivacyStreams
---

# privacystreams-core 0.0.2 API - Operators

This document contains all operators available in PrivacyStreams.

| Type | Reference & Description |
|----|----|
| `Function<Void,MultiItemStream>` | `BaseAccessibilityEvent.asUpdates()` <br> - Provide a live stream of BaseAccessibilityEvent items. |
| `Function<Void,MultiItemStream>` | `BrowserSearch.asUpdates()` <br> - Provide a live stream of BrowserSearch items. |
| `Function<Void,MultiItemStream>` | `BrowserVisit.asUpdates()` <br> - Provider a live stream of BrowserVisit items. |
| `Function<Void,MultiItemStream>` | `TextEntry.asUpdates()` <br> - Provide a live stream of TextEntry items. |
| `Function<Void,MultiItemStream>` | `UIAction.asUpdates()` <br> - Provide a live stream of UIAction items. |
| `Function<Void,SingleItemStream>` | `Audio.record(long duration)` <br> - Provide an Audio item.  The audio is recorded from microphone for a certain duration of time.<br> `duration`: the time duration of audio. |
| `Function<Void,MultiItemStream>` | `Audio.recordPeriodic(long durationPerRecord, long interval)` <br> - Provide a live stream of Audio items.  The audios are recorded from microphone periodically every certain time interval,  and each Audio item is a certain duration of time long.  For example, <code>recordPeriodic(1000, 4000)</code> will record audio from 0s-1s, 5s-6s, 10s-11s, ...<br> `durationPerRecord`: the time duration of each audio record, in milliseconds.<br> `interval`: the time interval between each two records, in milliseconds. |
| `Function<Void,MultiItemStream>` | `Contact.asList()` <br> - Provide a list of Contact items from device's contacts database. |
| `Function<Void,MultiItemStream>` | `Message.asIMUpdates()` <br> - Provide a live stream of Message items from IM apps, including WhatsApp and Facebook. |
| `Function<Void,MultiItemStream>` | `Message.asSMSUpdates()` <br> - Provide a live stream of Message items from the Android SMS app. |
| `Function<Void,MultiItemStream>` | `Message.asSMSHistory()` <br> - Provide a list of historic Message items from the Android SMS app. |
| `Function<Void,MultiItemStream>` | `Phonecall.asLogs()` <br> - Provide a list of Phonecall items from the device call log. |
| `Function<Void,MultiItemStream>` | `MockItem.asUpdates(List<MockObject> mockObjects, long interval)` <br> - Provide a live stream of MockItem items, which are from a given list.<br> `mockObjects`: the list of mock data<br> `interval`: the interval between each two items, in milliseconds |
| `Function<Void,MultiItemStream>` | `MockItem.asRandomUpdates(int maxInt, double maxDouble, long interval)` <br> - Provide a live stream of MockItem items, which are randomly generated.<br> `maxInt`: the max value of the int field of the random mock items<br> `maxDouble`: the max value of the double field of the random mock items<br> `interval`: the interval between each two items, in milliseconds |
| `Function<Void,MultiItemStream>` | `MockItem.asHistory(List<MockObject> mockObjects)` <br> - Provide a list of MockItem items, which are from a given list.<br> `mockObjects`: the list of mock data |
| `Function<Void,MultiItemStream>` | `MockItem.asRandomHistory(int maxInt, double maxDouble, int count)` <br> - Provide a list of MockItem items, which are randomly generated.<br> `maxInt`: the max value of the int field of the random mock items<br> `maxDouble`: the max value of the double field of the random mock items<br> `count`: the number of random items |
| `Function<Void,SingleItemStream>` | `MockItem.asItem(MockObject mockObject)` <br> - Provide a MockItem item, which is based on an given MockObject.<br> `mockObject`: the mock data |
| `Function<Void,SingleItemStream>` | `MockItem.asRandomItem()` <br> - Provide a MockItem item, which is randomly generated. |
| `Function<Void,MultiItemStream>` | `DeviceEvent.asUpdates()` <br> - Provide a live stream of device events, including screen/boot/battery/ringer events. |
| `Function<Void,MultiItemStream>` | `WifiAp.asScanList()` <br> - Provide a list of WifiAp items from WIFI scan result. |
| `Function<Void,MultiItemStream>` | `Light.asUpdates()` <br> - Provide a live stream of Light items that are read from the light sensor. |
| `Function<Void,SingleItemStream>` | `Image.takeFromCamera()` <br> - Provide an Image item, which represents a photo taken from camera. |
| `Function<Void,MultiItemStream>` | `Image.readFromStorage()` <br> - Provide a list of Image items that are read from file system. |
| `Function<Void,MultiItemStream>` | `GeoLocation.asUpdates(String provider, long minTime, float minDistance)` <br> - Provide a live stream of GeoLocation items from device's location sensors.<br> `provider`: the location provider, could be "gps", "network", etc.<br> `minTime`: minimum time interval between location updates, in milliseconds.<br> `minDistance`: minimum distance between location updates, in meters. |
| `Function<Void,SingleItemStream>` | `GeoLocation.asLastKnown()` <br> - Provide a GeoLocation item, which is the last known location. |
| `Function<Void,MultiItemStream>` | `GeoLocation.asHistory()` <br> - Provide a list of GeoLocation items, which are the location history of the device. |
| `Function<Item,Integer>` | `AudioOperators.calcLoudness(String audioUriField)` <br> - Calculate the loudness of an audio field. The loudness is an integer in dB.<br> `audioUriField`: the name of the audio uri field. |
| `Function<Item,Double>` | `ArithmeticOperators.roundUp(String numField, Number value)` <br> - Round up a number.  For example, given an item with field "x"=17, <code>roundUp("x", 10)</code> will produce 20.<br> `numField`: the name of the number field<br> `value`: the value to round |
| `Function<Item,Double>` | `ArithmeticOperators.roundDown(String numField, Number value)` <br> - Round down a number.  For example, given an item with field "x"=0.027, roundUp("x", 0.01) will produce 0.02.<br> `numField`: the name of the number field<br> `value`: the value to round |
| `Function<Item,Long>` | `ArithmeticOperators.castToLong(String numField)` <br> - Cast a number to long type.<br> `numField`: the name of the number field |
| `Function<Item,Integer>` | `ArithmeticOperators.castToInt(String numField)` <br> - Cast a number to integer type.<br> `numField`: the name of the number field |
| `Function<Item,Number>` | `ArithmeticOperators.add(String numField1, String numField2)` <br> - Add the values of two fields in an item.<br> `numField1`: the name of the first field<br> `numField2`: the name of the second field |
| `Function<Item,Number>` | `ArithmeticOperators.sub(String numField1, String numField2)` <br> - Subtract the values of two fields in an item.<br> `numField1`: the name of the first field<br> `numField2`: the name of the second field |
| `Function<Item,Number>` | `ArithmeticOperators.multiply(String numField1, String numField2)` <br> - Multiply the values of two fields in an item.<br> `numField1`: the name of the first field<br> `numField2`: the name of the second field |
| `Function<Item,Number>` | `ArithmeticOperators.divide(String numField1, String numField2)` <br> - Divide the values of two fields in an item.<br> `numField1`: the name of the first field<br> `numField2`: the name of the second field |
| `Function<Item,Number>` | `ArithmeticOperators.mode(String numField1, String numField2)` <br> - Mode the values of two fields in an item.<br> `numField1`: the name of the first field<br> `numField2`: the name of the second field |
| `Function<Item,Boolean>` | `Comparators.eq(String field, TValue valueToCompare)` <br> - Check if the value of a field equals to a given value.<br> `field`: the name of the field to compare<br> `valueToCompare`: the value to compare with<br> `<TValue>`: the type of value |
| `Function<Item,Boolean>` | `Comparators.ne(String field, TValue valueToCompare)` <br> - Check if the value of a field is not equal to a given value.<br> `field`: the name of the field to compare<br> `valueToCompare`: the value to compare with<br> `<TValue>`: the type of value |
| `Function<Item,Boolean>` | `Comparators.gt(String field, TValue valueToCompare)` <br> - Check if the value of a field is greater than a given value.<br> `field`: the name of the field to compare<br> `valueToCompare`: the value to compare with<br> `<TValue>`: the type of value |
| `Function<Item,Boolean>` | `Comparators.lt(String field, TValue valueToCompare)` <br> - Check if the value of a field is less than a given value.<br> `field`: the name of the field to compare<br> `valueToCompare`: the value to compare with<br> `<TValue>`: the type of value |
| `Function<Item,Boolean>` | `Comparators.gte(String field, TValue valueToCompare)` <br> - Check if the value of a field is greater than or equal to a given value.<br> `field`: the name of the field to compare<br> `valueToCompare`: the value to compare with<br> `<TValue>`: the type of value |
| `Function<Item,Boolean>` | `Comparators.lte(String field, TValue valueToCompare)` <br> - Check if the value of a field is less than or equal to a given value.<br> `field`: the name of the field to compare<br> `valueToCompare`: the value to compare with<br> `<TValue>`: the type of value |
| `Function<Item,Boolean>` | `ItemOperators.isFieldIn(String field, TValue listToCompare)` <br> - Check whether the value of a field is in a given list.<br> `field`: the field name<br> `listToCompare`: the list to check whether the field is in<br> `<TValue>`: the type of list elements |
| `Function<Item,Boolean>` | `ItemOperators.containsField(String fieldToCheck)` <br> - Check whether the item contains a given field.<br> `fieldToCheck`: the name of field to check |
| `Function<Item,TValue>` | `ItemOperators.getField(String field)` <br> - Get the value of a given field in the item.<br> `field`: the name of the field to get.<br> `<TValue>`: the type of field value |
| `Function<Item,Tout>` | `ItemOperators.outputSubStream(Function<List<Item>,Tout> subStreamFunction)` <br> - Output the sub stream in the item with a function.  This function must be applied to a group item, i.e. must be used after <code>groupBy</code> or <code>localGroupBy</code>.<br> `subStreamFunction`: the function to output sub stream.<br> `<Tout>`: the type of sub stream collection result. |
| `Function<Item,Map<String,Object>>` | `ItemOperators.asMap()` <br> - Output the item as a key-value map. |
| `Function<Item,Item>` | `ItemOperators.setField(String fieldToSet, Function<Item,TValue> functionToComputeValue)` <br> - Set the value of a new field with a function.<br> `fieldToSet`: the name of the field to set, it can be a new name.<br> `functionToComputeValue`: the function to compute the value of the field.<br> `<TValue>`: the type of the new field value. |
| `Function<Item,Item>` | `ItemOperators.setField(String fieldToSet, TValue fieldValue)` <br> - Set the value of a new field to a given value.<br> `fieldToSet`: the name of the field to set, it can be a new name.<br> `fieldValue`: the value of the field.<br> `<TValue>`: the type of the new field value. |
| `Function<Item,Item>` | `ItemOperators.includeFields(String fieldsToInclude)` <br> - Project an item by including some fields.  The fields that are not included will be removed from the item.<br> `fieldsToInclude`: the names of the fields to include. |
| `Function<Item,Item>` | `ItemOperators.excludeFields(String fieldsToExclude)` <br> - Project an item by excluding some fields.  The excluded fields will be removed from the item.<br> `fieldsToExclude`: the names of the fields to exclude. |
| `Function<Item,Item>` | `ItemOperators.getSubItem(String subItemField)` <br> - Get the sub item value of a given field.<br> `subItemField`: the name of sub item field. |
| `Function<Item,Void>` | `ItemOperators.debug()` <br> - Print the item for debugging. |
| `Function<Item,Boolean>` | `ListOperators.contains(String listField, Object value)` <br> - Check whether the list value of a field contains a given value.<br> `listField`: the name of the list field<br> `value`: the value to check if is in the list |
| `Function<Item,Boolean>` | `ListOperators.intersects(String listField, TValue listToCompare)` <br> - Check whether the list field value of a field has intersection with a given list.<br> `listField`: the name of the list field<br> `listToCompare`: the list to compare |
| `Function<Item,Boolean>` | `LogicOperators.not(Function<Item,Boolean> predicate)` <br> - Compute the logical NOT of a function.<br> `predicate`: the function to test an item |
| `Function<Item,Boolean>` | `LogicOperators.and(Function<Item,Boolean> predicate1, Function<Item,Boolean> predicate2)` <br> - Compute the logical AND of two functions.<br> `predicate1`: the first function to test an item<br> `predicate2`: the second function to test an item |
| `Function<Item,Boolean>` | `LogicOperators.or(Function<Item,Boolean> predicate1, Function<Item,Boolean> predicate2)` <br> - Compute the logical OR of two functions.<br> `predicate1`: the first function to test an item<br> `predicate2`: the second function to test an item |
| `Function<List<Item>,Integer>` | `StatisticOperators.count()` <br> - Count the number of items in the stream and output the number. |
| `Function<List<Item>,Double>` | `StatisticOperators.range(String numField)` <br> - Calculate the range of the number values of a field in the stream.  The field values must be in Number type, such as Integer, Double, Long, ...  If calculation fails (e.g. there is no item in the stream), the "range" result will be null.<br> `numField`: the name of the field to calculate range, the field value must be a number. |
| `Function<List<Item>,Double>` | `StatisticOperators.sum(String numField)` <br> - Calculate the sum of the number values of a field in the stream.  The field values must be in Number type, such as Integer, Double, Long, ...  If there is no valid field value in the stream, the "sum" result will be 0.0<br> `numField`: the name of the field to calculate sum, the field value must be a number. |
| `Function<List<Item>,Double>` | `StatisticOperators.average(String field)` <br> - Calculate the average of the number values of a field in the stream.  The field values must be in Number type, such as Integer, Double, Long, ...  If calculation fails (e.g. there is no item in the stream), the "average" result will be null.<br> `field`: the name of the field to calculate average, the field value must be a number. |
| `Function<List<Item>,List<Item>>` | `StreamOperators.asList()` <br> - Collect the items in the stream to a list.  Each element in the list is an instance of Item. |
| `Function<List<Item>,List<TValue>>` | `StreamOperators.asList(String fieldToCollect)` <br> - Collect the values of a field in the stream to a list.  Each element in the list is the value of the specified field in an item.<br> `fieldToCollect`: the name of the field to collect. |
| `Function<Item,Boolean>` | `StringOperators.contains(String stringField, String searchString)` <br> - Check whether the string value of a field contains a certain substring.<br> `stringField`: the name of the string field<br> `searchString`: the substring to search |
| `Function<Item,String>` | `StringOperators.md5(String stringField)` <br> - Get the MD5-hashed value of the string value of a field.<br> `stringField`: the name of the string field to perform hash. |
| `Function<Item,String>` | `StringOperators.sha1(String stringField)` <br> - Get the SHA1-hashed value of the string value of a field.<br> `stringField`: the name of the string field to perform hash. |
| `Function<Item,String>` | `StringOperators.sha256(String stringField)` <br> - Get the SHA256-hashed value of the string value of a field.<br> `stringField`: the name of the string field to perform hash. |
| `Function<Item,Integer>` | `StringOperators.indexOf(String stringField, String searchString)` <br> - Get the index of a substring in the string value of a field.<br> `stringField`: the name of the string field<br> `searchString`: the substring to search |
| `Function<Item,Integer>` | `StringOperators.length(String stringField)` <br> - Get the length of the string value of a field.<br> `stringField`: the name of the string field to calculate length |
| `Function<Item,String>` | `StringOperators.replace(String stringField, String searchString, String replaceString)` <br> - Replace a substring to a new string in the string value of a field.<br> `stringField`: the name of the string field<br> `searchString`: the substring to search<br> `replaceString`: the string used to replace the searchString |
| `Function<Item,String>` | `StringOperators.subString(String stringField, int start, int end)` <br> - Get a substring of the string value of a field.<br> `stringField`: the name of the string field to calculate length<br> `start`: the position to start from, negative means   count back from the end of the String by this many characters<br> `end`: the position to end at (exclusive), negative means   count back from the end of the String by this many characters |
| `Function<Item,Boolean>` | `TimeOperators.since(String timestampField, Long timestampToCompare)` <br> - Check whether the timestamp value of a field is after a given timestamp.<br> `timestampField`: the name of the timestamp field<br> `timestampToCompare`: the timestamp to compare |
| `Function<Item,Boolean>` | `TimeOperators.recent(String timestampField, Long duration)` <br> - Check whether the timestamp field value of a field is recent from now (less than a given duration).<br> `timestampField`: the name of the timestamp field<br> `duration`: the millisecond duration from now |
| `Function<MultiItemStream,Void>` | `Callbacks.forEach(Function<Item,Void> itemCallback)` <br> - Callback with each item in the stream.  The callback will be invoked with each item as a parameter.<br> `itemCallback`: the callback to be invoked for each item |
| `Function<MultiItemStream,Void>` | `Callbacks.forEachField(String fieldToSelect, Function<TValue,Void> fieldValueCallback)` <br> - Callback with the field value for each item in the stream.  The callback will be invoked with each field value.<br> `fieldToSelect`: the field to select<br> `fieldValueCallback`: the callback function to be invoked for each field value<br> `<TValue>`: the type of field value |
| `Function<MultiItemStream,Void>` | `Callbacks.ifPresent(Function<Item,Void> itemCallback)` <br> - Callback with the first item in the stream.  If there is no present item, the callback will not be invoked.  The callback will be invoked with the present item as a parameter.<br> `itemCallback`: the callback to be invoked with the first item. |
| `Function<MultiItemStream,Void>` | `Callbacks.ifFieldPresent(String fieldToSelect, Function<TValue,Void> fieldValueCallback)` <br> - Callback with the first present field value in the stream.  If there is no item with a present field value, the callback will not be invoked.  The callback will be invoked with the present field value.<br> `fieldToSelect`: the field to select<br> `fieldValueCallback`: the callback function to be invoked with the first field value<br> `<TValue>`: the type of field value |
| `Function<MultiItemStream,Void>` | `Callbacks.onChange(Function<Item,Void> itemCallback)` <br> - Callback with the changed items in the stream.  A changed item is the item that is different from the former item.  The callback will be invoked with the item as a parameter.<br> `itemCallback`: the callback to be invoked with the changed item. |
| `Function<MultiItemStream,Void>` | `Callbacks.onFieldChange(String fieldToSelect, Function<TValue,Void> fieldValueCallback)` <br> - Callback with the changed field value of a given field in the stream.  A changed field value is the field value that is different from the former field value.  The callback will be invoked with the field value as a parameter.<br> `fieldToSelect`: the field to select<br> `fieldValueCallback`: the callback function to be invoked with the changed field value.<br> `<TValue>`: the type of field value |
| `Function<MultiItemStream,MultiItemStream>` | `Filters.keep(Function<Item,Boolean> predicate)` <br> - Keep all items that satisfies a predicate, and remove the items that don't satisfy.<br> `predicate`: the predicate to check for each item |
| `Function<MultiItemStream,MultiItemStream>` | `Groupers.groupBy(String fieldToGroup)` <br> - Group the items with same field value together.  This function will change the order of items.  The stream after grouping is a stream of GroupItem items.<br> `fieldToGroup`: the field used to group the stream. |
| `Function<MultiItemStream,MultiItemStream>` | `Groupers.localGroupBy(String fieldToGroup)` <br> - Group the contiguous items with same field value together.  This function will not change the order of items.  The stream after grouping is a stream of GroupItem items.<br> `fieldToGroup`: the field used to group the stream. |
| `Function<MultiItemStream,MultiItemStream>` | `Limiters.timeout(long timeoutMillis)` <br> - Limit the stream with a timeout.  The stream will stop after the timeout.<br> `timeoutMillis`: the timeout milliseconds. |
| `Function<MultiItemStream,MultiItemStream>` | `Limiters.limitCount(int countLimit)` <br> - Limit the stream to at most n items.  The stream will stop after n items.<br> `countLimit`: the maximum number of items. |
| `Function<MultiItemStream,MultiItemStream>` | `Limiters.limit(Function<Item,Boolean> predicate)` <br> - Limit the stream with a predicate.  The stream will stop if the predicate is dissatisfied.<br> `predicate`: the predicate to check for each item. |
| `Function<MultiItemStream,MultiItemStream>` | `Mappers.mapEachItem(Function<Item,Item> perItemMapper)` <br> - Transform a multi-item stream by mapping each items with a item-to-item mapper.<br> `perItemMapper`: the mapper function to map each item in the stream. |
| `Function<SingleItemStream,SingleItemStream>` | `Mappers.mapItem(Function<Item,Item> itemMapper)` <br> - Transform a single-item stream by mapping the item with a item-to-item mapper.<br> `itemMapper`: the mapper function to map the item in the stream. |
| `Function<MultiItemStream,SingleItemStream>` | `Pickers.pick(int index)` <br> - Pick an item from a stream.<br> `index`: the index of the item to pick. |
| `Function<MultiItemStream,MultiItemStream>` | `Reorders.sortBy(String fieldToSort)` <br> - Sort the items in stream by the value of a field.<br> `fieldToSort`: the name of the field to reorder by. |
| `Function<MultiItemStream,MultiItemStream>` | `Reorders.shuffle()` <br> - Shuffle the order of the items in stream. |
| `Function<MultiItemStream,MultiItemStream>` | `Reorders.reverse()` <br> - Reverse the order of the items in stream. |
| `Function<Item,Map<String,String>>` | `ImageOperators.getMetadata(String photoUriField)` <br> - Retrieve the metadata of a photo, the photo's URI is specified by a field.  The metadata of a photo is a Map, in which each key-value pair represents a metadata item.<br> `photoUriField`: the name of photo uri field |
| `Function<Item,String>` | `ImageOperators.blur(String photoUriField)` <br> - Blur a photo whose URI is specified by a field,  and output the uri string of the blurred photo.<br> `photoUriField`: the name of photo uri field |
| `Function<Item,Boolean>` | `LocationOperators.atHome(String coordinatesField)` <br> - Check if the coordinates value of a field is a location at home.<br> `coordinatesField`: the coordinates field to check |
| `Function<Item,Boolean>` | `LocationOperators.inArea(String coordinatesField, double center_latitude, double center_longitude, double radius)` <br> - Check if the coordinates value of a field is a location in an given round area.<br> `coordinatesField`: the coordinates field to check<br> `center_latitude`: latitude of the center of the area<br> `center_longitude`: longtitude of the center of the area<br> `radius`: radius of the given area |
| `Function<Item,List<Double>>` | `LocationOperators.blur(String coordinatesField, double blurMeters)` <br> - Blur the coordinates value of a field and return the blurred coordinates.  The blurred coordinates is a list of double, the first double element is the latitude,  the second double element is the longitude.<br> `coordinatesField`: the coordinates field to blur<br> `blurMeters`: the distance to blur, in meters |
| `Function<Item,String>` | `LocationOperators.asPostcode(String coordinatesField)` <br> - Get the postcode string based on the coordinates value of a field.<br> `coordinatesField`: the coordinates field |
| `Function<Item,String>` | `LocationOperators.asGeotag(String coordinatesField)` <br> - Get the geotag string based on the coordinates value of a field.<br> `coordinatesField`: the coordinates field |
| `Function<Item,Void>` | `StorageOperators.writeToFile(String dirPath, String fileTag)` <br> - Output an item to file system, the output file name will be `<tag><timestamp>.json`.<br> `dirPath`: the directory to output the item.<br> `fileTag`: the tag of the output file. |
